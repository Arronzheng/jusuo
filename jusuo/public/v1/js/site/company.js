var data={
    "list":[
        {
            "span":"擅长空间：",
            "nav":["不限","家居住宅","别墅豪宅","商业展示","文化空间","运动空间","办公空间","医疗空间","教育空间","娱乐空间","餐饮空间","旅馆空间","样板房"],
            "navnumber":0
        }
    ]
};
var zuopindetail={
    "images":["images/index/cookingroom_3.jpg","images/index/dinningroom.jpg","images/index/dinningroom_4.jpg"],
}
var paixu={
    "list":[
        {"label":"综合", "up":true, "down":false, "active":true},
        {"label":"关注数", "up":false, "down":false, "active":false},
        {"label":"浏览量", "up":false, "down":false, "active":false},
    ]
};
var companylogo=["./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png",
    "./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png","./images/index/b8.png"];
var companyitem=[{"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
    "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
        {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
        {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
        {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
    {"logo":"./images/company_xq/1.png","name":"良工装饰有限公司","position":"广东省佛山市","ablearea":["家居住宅","豪宅别墅"],"designer":42,"fangan":63,"fans":42,
        "design":[{"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"},
            {"images":"images/designer_xq/8.png","name":"碧桂园二居室设计","personname":"周杰伦","perimage":"images/designer/1.png"}]},
        ]
var open=false;
//友情链接
var bottom=['千名汇','千名汇','千名汇','千名汇','千名汇','千名汇','千名汇','千名汇','千名汇','千名汇'];

//推荐作品的轮播
$(function(e) {
    var str='';
    str+="<div class='swiper-container' id='swiper1'>"
    str+="<div class='swiper-wrapper swiper-no-swiping'>"
    for(var i=0;i<zuopindetail.images.length;i++){
        str+="<div class='swiper-slide'>"
        str+="<img src='"+zuopindetail.images[i]+"'/>"
        str+="</div>"
    }
    str+="</div>"
    str+="</div>"
    str+="<div class='left'>"+"<img src='images/index/bannerL.png'/></div>"
    str+="<div class='right'><img src='images/index/bannerR.png'/></div>"
    $("#swipers").append(str);
    //轮播
    //最里层轮播
    var mySwiper1 = new Swiper('#swiper1',{
        loop: true,
        autoplay : 4000,
        speed : 600,
        autoplayDisableOnInteraction : false,
        pagination: '.swiper-pagination',
        paginationType: 'custom',//这里分页器类型必须设置为custom,即采用用户自定义配置
        //下面方法可以生成我们自定义的分页器到页面上
        paginationCustomRender: function(swiper, current, total) {
            var customPaginationHtml = "";
            for(var i = 0; i < total; i++) {
                //判断哪个分页器此刻应该被激活
                if(i== (current-1) ){
                    customPaginationHtml += '<span class="swiper-pagination-customs swiper-pagination-customs-active"></span>';
                } else {
                    customPaginationHtml += '<span class="swiper-pagination-customs"></span>';
                }
            }
            return customPaginationHtml;
        }
    });
//前进后退按钮
    $(".left").click(function(){
        mySwiper1.slidePrev();
    })
    $(".right").click(function(){
        mySwiper1.slideNext();
    })
    $('.swiper-pagination').on('click','span',function(){
        var index = $(this).index() + 2;
        mySwiper1.slideTo(index-1, 500, false);//切换到第一个slide，速度为1秒
    })
})

//导航html
$(function(e) {
    var str = '';
    for(var i=0;i<data.list.length;i++){
        str+="<div class='nav_container'>";
        str+="<div class='nav_span1'>";
        str+="<span class='nav_span'>"+data.list[i].span+"</span>"
        str+="</div>"
        var width=0;
        str+="<div class='nav_text' id='nav_text"+i+"'>";
        for(var j=0;j<data.list[i].nav.length;j++){
            if(j==data.list[i].navnumber){
                str+="<span class='nav_t active' id='nav_"+i+"_"+j+"' onclick='change_swiper("+i+","+j+")'>"
            }else{
                str+="<span class='nav_t' id='nav_"+i+"_"+j+"' onclick='change_swiper("+i+","+j+")'>"
            }
            str+=data.list[i].nav[j];
            str+="</span>"
        }
        str+="</div>"
        str+="</div>"
    }

    $("#allnav").append(str);
});

//排序html
$(function(e) {
    var str = '';
    for(var i=0;i<paixu.list.length;i++){
        if(i==0){
            str+="<span class='paixu_label active1' id='paixu_"+i+"' onclick='change_paixu("+i+")'>"+paixu.list[i].label+"</span>"
            str+="<div class='up_down' onclick='change_paixu("+i+")'>"
            str+="<div class='up'>"
            if(paixu.list[i].up==false){
                str+="<span class='iconfont icon-paixu' id='paixu1_"+i+"' style='color:#B7B7B7;font-size:14px;'>"+"</span>";
            }else{
                str+="<span class='iconfont icon-paixu' id='paixu1_"+i+"' style='color:#1582FF;font-size:14px;'>"+"</span>";
            }
            str+="</div>"
            str+="<div class='down'>"
            if(paixu.list[i].down==false){
                str+="<span class='iconfont icon-paixu-1' id='paixu2_"+i+"' style='color:#B7B7B7;font-size:14px;'>"+"</span>";
            }else{
                str+="<span class='iconfont icon-paixu-1' id='paixu2_"+i+"' style='color:#1582FF;font-size:14px;'>"+"</span>";
            }
            str+="</div>"
            str+="</div>"
        }else{
            str+="<span class='paixu_label' id='paixu_"+i+"' onclick='change_paixu("+i+")'>"+paixu.list[i].label+"</span>"
            str+="<div class='up_down' onclick='change_paixu("+i+")'>"
            str+="<div class='up'>"
            if(paixu.list[i].up==false){
                str+="<span class='iconfont icon-paixu' id='paixu1_"+i+"' style='color:#B7B7B7;font-size:14px;'>"+"</span>";
            }else{
                str+="<span class='iconfont icon-paixu' id='paixu1_"+i+"' style='color:#1582FF;font-size:14px;'>"+"</span>";
            }
            str+="</div>"
            str+="<div class='down'>"
            if(paixu.list[i].down==false){
                str+="<span class='iconfont icon-paixu-1' id='paixu2_"+i+"' style='color:#B7B7B7;font-size:14px;'>"+"</span>";
            }else{
                str+="<span class='iconfont icon-paixu-1' id='paixu2_"+i+"' style='color:#1582FF;font-size:14px;'>"+"</span>";
            }
            str+="</div>"
            str+="</div>"
        }

    }

    $("#paixu").append(str);
});
//装饰公司logo内容html
$(function(e) {
    var str = '';
    var length=Math.min(12,companylogo.length)
    for (var i = 0; i < length; i++) {
        str+="<div class='companylogo' id='clogo"+i+"'>"+"</div>"
    }
    $("#companylogo").append(str);
    for (var i = 0; i < length; i++) {
        $("#clogo"+i).css({"background-image":"url('"+companylogo[i]+"')"});
    }
});
// xlPaging.js 分页使用方法
var nowpage = $("#page").paging({
    nowPage: 1, // 当前页码
    pageNum: Math.ceil(companyitem.length / 4), // 总页码
    buttonNum: Math.ceil(companyitem.length /4), //要展示的页码数量
    canJump: 0,// 是否能跳转。0=不显示（默认），1=显示
    showOne: 0,//只有一页时，是否显示。0=不显示,1=显示（默认）
    callback: function (num) { //回调函数
        console.log('sss'+num);
        //更多产品
        // $(function(e) {
        $("#produ").html("");
        var txt="<div id='de_fangan'></div>"
        $("#produ").append(txt);
        var total=Math.min(num*4,companyitem.length)
        console.log(num+'sss'+total)
        moreproduct((num-1)*4,total);
    }
});
console.log(nowpage.options.nowPage)
$(function(e) {
    //设计师方案html
    moreproduct(nowpage.options.nowPage-1,nowpage.options.nowPage*4)
})
//底部导航的千名汇
$(function(e) {
    var str = '';
    for (var i = 0; i < 9; i++) {
        str+="<div class='qmh'>"+bottom[i]+"</div>"
        if((i+1)%9!==0){
            str+="<div class='qmhline'>"+"</div>"
        }
    }
    $("#bottom_logo").append(str);
})
$(function(e) {
    if(open==false){
        $(".xiala1").css({"cursor": "not-allowed"});
        $(".xiala").css({"cursor": "pointer"});
    }else{
        $(".xiala1").css({"cursor": "pointer"});
        $(".xiala").css({"cursor": "not-allowed"});
    }
})
//装饰公司html
function moreproduct(begin,end){
    var str = '';
    for(var i=begin;i<end;i++){

        str+="<div class='company_item'>";
        str+="<div class='company_head'>";
        str+="<div class='company_logo' id='company_logo"+i+"'>"+"</div>";
        str+="<div class='company_middle'>";
        str+="<div class='cm_head'>";
        str+="<div class='cm_name'>"+companyitem[i].name+"</div>";
        str+="<div class='posi_logo'>"+"</div>"
        str+="<div class='posi_text'>"+companyitem[i].position+"</div>"
        str+="</div>"
        str+="<div class='cm_middle'>";
        str+="<span class='cm_able'>"+"擅长空间："+"</span>";
        for(var j=0;j<companyitem[i].ablearea.length;j++){
            var width=companyitem[i].ablearea[j].length*14+12
            str+="<div class='cm_label' style='width:"+width+"px;'>"+companyitem[i].ablearea[j]+"</div>"
        }
        str+="</div>"
        str+="<div class='de_detail'>"
        str+="<div class='dm_fan'>";
        str+="<div class='dm_fanspan'>"+companyitem[i].designer+"</div>"
        str+="<div class='dm_fanspan1'>"+"设计师"+"</div>"
        str+="</div>";
        str+="<div class='dm_line'>"+"</div>"
        str+="<div class='dm_fan1'>";
        str+="<div class='dm_fanspan'>"+companyitem[i].fangan+"</div>"
        str+="<div class='dm_fanspan1'>"+"设计方案"+"</div>"
        str+="</div>";
        str+="<div class='dm_line1'>"+"</div>"
        str+="<div class='dm_fan2'>";
        str+="<div class='dm_fanspan'>"+companyitem[i].fans+"</div>"
        str+="<div class='dm_fanspan1'>"+"粉丝"+"</div>"
        str+="</div>";
        str+="</div>";
        str+="</div>";
        str+="<div class='company_right'>"+"查看主页 >"+"</div>"
        str+="</div>";
        str+="<div class='company_tail'>"
        str+="<div class='de_right'>";
        var length=Math.min(4,companyitem[i].design.length)
        for(var j=0;j<length;j++){
            str+="<div class='dr_container'>"
            str+="<div class='dr_image' id='dr_image"+i+"_"+j+"'>"+"</div>";
            str+="<div class='dr_text'>"
            str+="<div class='dr_text1'>"
            str+="<div class='perimage' id='perimage_"+i+"_"+j+"'>"+"</div>";
            str+="<div class='dr_name'>"+companyitem[i].design[j].personname+"</div>"
            str+="</div>"
            str+="<div class='dr_text2'>"+companyitem[i].design[j].name+"</div>"
            str+="</div>"
            str+="</div>"
        }
        str+="</div>"
        str+="</div>"

        str+="</div>"
    }

    $("#de_fangan").append(str);
    for (var i = begin; i < end; i++) {
        $("#company_logo"+i).css({"background-image":"url('"+companyitem[i].logo+"')"});
        var length=Math.min(4,companyitem[i].design.length)
        for(var j=0;j<length;j++){
            $("#perimage_"+i+"_"+j).css({"background-image":"url('"+companyitem[i].design[j].perimage+"')"});
            $("#dr_image"+i+"_"+j).css({"background-image":"url('"+companyitem[i].design[j].images+"')"});
        }
    }
};
//切换导航的选择
function change_swiper(i,j){
    console.log(i)
    var b=0;
    data.list[i].navnumber=j
    for (b = 0; b < data.list[i].nav.length; b++) {
        if(b==j){
            document.getElementById("nav_"+i+"_"+b).className = "nav_t1";
        }else{
            document.getElementById("nav_"+i+"_"+b).className = "nav_t";
        }
    }
}
//切换排序的选择
function change_paixu(i){
    if(paixu.list[i].active==true){
        paixu.list[i].up=!paixu.list[i].up
        paixu.list[i].down=!paixu.list[i].down
        if(paixu.list[i].up==true){
            $("#paixu1_"+i).css({"color":"#1582FF"});
        }else{
            $("#paixu1_"+i).css({"color":"#B7B7B7"});
        }
        if(paixu.list[i].down==true){
            $("#paixu2_"+i).css({"color":"#1582FF"});
        }else{
            $("#paixu2_"+i).css({"color":"#B7B7B7"});
        }
    }else{
        for(var b=0;b<paixu.list.length;b++){
            if(b==i){
                paixu.list[b].active=true
                paixu.list[b].up=true
                paixu.list[b].down=false
                $("#paixu_"+b).css({"color":"#1582FF"});
                $("#paixu1_"+b).css({"color":"#1582FF"});
                $("#paixu2_"+b).css({"color":"#B7B7B7"});
            }else{
                paixu.list[b].active=false
                paixu.list[b].up=false
                paixu.list[b].down=false
                $("#paixu_"+b).css({"color":"#333333"});
                $("#paixu1_"+b).css({"color":"#B7B7B7"});
                $("#paixu2_"+b).css({"color":"#B7B7B7"});
            }
        }
    }
}
//底部导航的下拉和上拉
function xiala(){
    $(".m_middlet").html("");
    var str = '';
    for (var i = 0; i < bottom.length; i++) {
        str+="<div class='qmh'>"+bottom[i]+"</div>"
        if((i+1)%9!=0){
            str+="<div class='qmhline'>"+"</div>"
        }
    }
    $("#bottom_logo").append(str);
    open=true;
    $(".xiala").css({"cursor": "not-allowed"});
    $(".xiala1").css({"cursor": "pointer"});
}
function shangla(){
    $(".m_middlet").html("");
    var str = '';
    for (var i = 0; i < 9; i++) {
        str+="<div class='qmh'>"+bottom[i]+"</div>"
        if((i+1)%9!=0){
            str+="<div class='qmhline'>"+"</div>"
        }
    }
    $("#bottom_logo").append(str);
    open=false;
    $(".xiala").css({"cursor": "pointer"});
    $(".xiala1").css({"cursor": "not-allowed"});
}